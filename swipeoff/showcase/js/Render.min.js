var Render=function(){function t(t,i,n){return f=t,(A=f.getContext("webgl")||f.getContext("experimental-webgl"))?(e(),r(i,n)?(a(),o(),u(),window.addEventListener("resize",function t(r){t.timeoutId&&window.clearTimeout(t.timeoutId),t.timeoutId=window.setTimeout(e,600)}),!0):(delete A,!1)):(alert("Failed to acquire a WebGL context. Sorry!"),!1)}function e(){var t=window.devicePixelRatio?window.devicePixelRatio:1;f.width/t==f.offsetWidth&&f.height/t==f.offsetHeight||(f.width=t*f.offsetWidth,f.height=t*f.offsetHeight,A.viewport(0,0,f.width,f.height))}function r(t,e){var r=i(t,A.VERTEX_SHADER),a=i(e,A.FRAGMENT_SHADER);return!(!r||!a)&&(c.program=A.createProgram(),A.attachShader(c.program,r),A.attachShader(c.program,a),A.linkProgram(c.program),A.getProgramParameter(c.program,A.LINK_STATUS)?(c.attributes={},c.attributes.vertexPosition=A.getAttribLocation(c.program,"vertexPosition"),c.attributes.color=A.getAttribLocation(c.program,"a_color"),c.attributes.textureCoordAttribute=A.getAttribLocation(c.program,"aTextureCoord"),c.uniforms={},c.uniforms.time=A.getUniformLocation(c.program,"time"),c.uniforms.samplerUniform=A.getUniformLocation(c.program,"uSampler"),c.uniforms.u_StripVertexData=A.getUniformLocation(c.program,"u_StripVertexData"),c.uniforms.u_StripFragmentData=A.getUniformLocation(c.program,"u_StripFragmentData"),!0):(alert("Unable to initialize the shader program."),!1))}function i(t,e){var r=A.createShader(e);return A.shaderSource(r,t),A.compileShader(r),A.getShaderParameter(r,A.COMPILE_STATUS)?r:(alert("Errors occurred while compiling the shader:\n"+A.getShaderInfoLog(r)),null)}function a(){var t=[1,1,0,-1,1,0,1,-1,0,-1,-1,0];R=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,R),A.bufferData(A.ARRAY_BUFFER,new Float32Array(t),A.STATIC_DRAW);var e=[1,0,0,0,1,0,0,0,1,1,1,1];T=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,T),A.bufferData(A.ARRAY_BUFFER,new Float32Array(e),A.STATIC_DRAW);var r=[1,0,0,0,1,1,0,1];g=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,g),A.bufferData(A.ARRAY_BUFFER,new Float32Array(r),A.STATIC_DRAW),g.itemSize=2,g.numItems=4}function o(){A.enable(A.DEPTH_TEST),A.useProgram(c.program),A.bindBuffer(A.ARRAY_BUFFER,R),A.vertexAttribPointer(c.attributes.vertexPosition,3,A.FLOAT,!1,0,0),A.enableVertexAttribArray(c.attributes.vertexPosition),A.bindBuffer(A.ARRAY_BUFFER,T),A.enableVertexAttribArray(c.attributes.color),A.vertexAttribPointer(c.attributes.color,3,A.FLOAT,!1,0,0),A.bindBuffer(A.ARRAY_BUFFER,g),A.enableVertexAttribArray(c.attributes.textureCoordAttribute),A.vertexAttribPointer(c.attributes.textureCoordAttribute,g.itemSize,A.FLOAT,!1,0,0),A.enable(A.DEPTH_TEST),A.clearColor(0,0,0,1)}function n(t){A.bindTexture(A.TEXTURE_2D,t),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,t.image),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.bindTexture(A.TEXTURE_2D,null)}function u(){E=A.createTexture(),E.image=new Image,E.image.onload=function(){n(E)},E.image.src="img/screen.png"}function m(t){A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,E),A.uniform1i(c.uniforms.samplerUniform,0),A.uniform4fv(c.uniforms.u_StripVertexData,t.getFragmentData().vertex),A.uniform4fv(c.uniforms.u_StripFragmentData,t.getFragmentData().fragment),A.drawArrays(A.TRIANGLE_STRIP,0,4)}var f,A,R,T,g,E,c={};return{initialize:function(e,r,i){return t(e,r,i)},draw:function(t){m(t)}}};